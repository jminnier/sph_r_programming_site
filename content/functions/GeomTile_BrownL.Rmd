---
title: "ggplot2::geom_tile()"
date: "February 3, 2021"  
author: "Lindsay Brown"  
menu:
  functions:
    weight: 6
type: docs
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Lindsay Brown 

In this document, I will introduce the `geom_tile()` function and show what it is for.
  
  

```{r}
#load libraries 
library(ggplot2)
library(tidyverse)
```


### Data 

I used the dataset "Food Consumption and CO2 emissions from the Tidy Tuesday website year 2020. This dataset is rather large, so first we had to create a smaller subset of data for the plot.  


```{r}
#example dataset found from TidyTuesday page. 

food_consumption <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-18/food_consumption.csv')


food_consumption %>% pull(country) %>% unique()
glimpse (food_consumption)

```



```{r}

subset_countries <- c("Argentina", "Kazakhstan", "Sweden", "Ireland", "Venezuela", "Egypt", "Indonesia")

food_consumption <- food_consumption %>%
  filter(country %in% subset_countries)


```


### What is it for? 

`geom_tile` is part of the `ggplot2` package that can create heatmaps, a way of looking at 3 dimensional data in 2 dimensions. 

for this heatmap we are going to look at the smaller subset of data created above. our axis will be as follows:  

*x = country*  
*y = food_category*  
*z ("fill") = consumption* 

in `geom_tile` the argument `show.legend` defaults `NA` to show a legend if aesthetics such as (x = __ y = __ ) are mapped, however you can set this to `FALSE` if you do not want a legend, or `TRUE` if you always want a legend.  


```{r}

ggplot(food_consumption) +
  aes(x=country, y=food_category, fill=consumption) +
  geom_tile() +
  labs(title="consumption of food by category and country") +
  xlab("Country") +
  ylab("Food Category")
  

```



### Color  

You can use `scale_fill_gradient` arguments (low = ____ high=____) to customize your color scheme. The default for  `geom_tile()` is the blue that we saw above.  


```{r}

ggplot(food_consumption) +
  aes(x=country, y=food_category, fill=consumption) +
  geom_tile() +
  scale_fill_gradient(
                      low = "#005e49",
                      high = "#91ffe6") +
  labs(title="consumption of food by category and country") +
  xlab("Country") +
  ylab("Food Category")

```




### Is It Helpful??  

Yes! for the right type of data, this is a helpful visual representation, and is well suited for looking at possible patterns within the data. For example we can see that the category "Milk -inc. cheese" is a highly consumed category for most of our countries represented.   




